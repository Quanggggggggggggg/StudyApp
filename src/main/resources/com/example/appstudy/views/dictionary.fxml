<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.appstudy.Controller.DictionaryController"
            style="-fx-background-color: #f4f7f9;"
            prefWidth="900" prefHeight="700">

    <top>
        <VBox style="-fx-padding: 20 25 15 25;">
            <Button fx:id="backBtn" text="â† Quay láº¡i" onAction="#goBack" />
            <Label text="ðŸ” Dictionary"
                   style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <Label text="Look up any English word, anytime."
                   style="-fx-font-size: 14px; -fx-text-fill: #7f8c8d;"/>
        </VBox>
    </top>

    <center>
        <VBox spacing="15" style="-fx-padding: 0 25 25 25;">
            <!-- SECTION 1: SEARCH BAR -->
            <HBox spacing="10">
                <TextField fx:id="txtSearch" promptText="Enter a word to look up..." HBox.hgrow="ALWAYS" prefHeight="45" style="-fx-font-size: 14px;"/>
                <Button text="Look Up" onAction="#handleSearch" prefHeight="45" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px;"/>
            </HBox>

            <!-- SECTION 2: RESULTS AREA -->
            <StackPane VBox.vgrow="ALWAYS">

                <!-- Placeholder View (hiá»ƒn thá»‹ khi chÆ°a tÃ¬m kiáº¿m) -->
                <VBox fx:id="placeholderPane" alignment="CENTER" spacing="10" managed="true" visible="true">
                    <Label text="ðŸ“–" style="-fx-font-size: 60px;"/>
                    <Label text="Find definitions, pronunciations, and examples." style="-fx-font-size: 16px; -fx-text-fill: #95a5a6;"/>
                </VBox>

                <!-- Results View (hiá»ƒn thá»‹ sau khi tÃ¬m kiáº¿m) -->
                <ScrollPane fx:id="resultsScrollPane" fitToWidth="true" vbarPolicy="AS_NEEDED"
                            style="-fx-background-color: transparent; -fx-background: transparent;" managed="false" visible="false">
                    <VBox fx:id="resultsContainer" spacing="15" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 8; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 10, 0, 0, 2);">

                        <!-- Word Header -->
                        <HBox alignment="CENTER_LEFT" spacing="15">
                            <VBox>
                                <Label fx:id="lblWord" text="Integrate" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                                <Label fx:id="lblPronunciation" text="/ËˆÉªn.tÉ™.É¡reÉªt/" style="-fx-font-size: 16px; -fx-text-fill: #7f8c8d;"/>
                            </VBox>
                            <Button fx:id="btnAudio" text="ðŸ”Š" style="-fx-background-color: transparent; -fx-font-size: 20px;"/>
                            <Pane HBox.hgrow="ALWAYS"/> <!-- Spacer -->
                            <Button fx:id="btnAddWord" text="+ Add to My Vocabulary" onAction="#handleAddWordToHub"
                                    style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5;"/>
                        </HBox>

                        <Separator/>

                        <!-- Definitions will be added here by the controller -->
                        <VBox fx:id="definitionsVBox" spacing="12">
                            <!-- Example of a definition block -->
                            <VBox spacing="5">
                                <Label text="VERB" style="-fx-font-weight: bold; -fx-text-fill: #3498db;"/>
                                <Label text="1. To combine two or more things in order to become more effective." style="-fx-wrap-text: true;"/>
                                <Label text="Example: The company plans to integrate the new software into its existing systems."
                                       style="-fx-text-fill: #7f8c8d; -fx-padding: 0 0 0 15; -fx-wrap-text: true;"/>
                            </VBox>
                            <VBox spacing="5">
                                <Label text="2. To become part of a group or society and be accepted by them." style="-fx-wrap-text: true;"/>
                                <Label text="Example: They have found it difficult to integrate into the local community."
                                       style="-fx-text-fill: #7f8c8d; -fx-padding: 0 0 0 15; -fx-wrap-text: true;"/>
                            </VBox>
                        </VBox>

                        <Separator/>

                        <!-- Synonyms -->
                        <VBox spacing="8">
                            <Label text="Synonyms" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                            <FlowPane fx:id="synonymsFlowPane" hgap="8" vgap="8">
                                <!-- Synonyms will be added here by the controller as styled Labels or Buttons -->
                                <Label text="combine" style="-fx-background-color: #ecf0f1; -fx-padding: 5 10; -fx-background-radius: 15;"/>
                                <Label text="merge" style="-fx-background-color: #ecf0f1; -fx-padding: 5 10; -fx-background-radius: 15;"/>
                                <Label text="unite" style="-fx-background-color: #ecf0f1; -fx-padding: 5 10; -fx-background-radius: 15;"/>
                                <Label text="incorporate" style="-fx-background-color: #ecf0f1; -fx-padding: 5 10; -fx-background-radius: 15;"/>
                            </FlowPane>
                        </VBox>

                    </VBox>
                </ScrollPane>
            </StackPane>
        </VBox>
    </center>
</BorderPane>
